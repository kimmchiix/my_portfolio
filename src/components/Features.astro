---
// Define what a single feature looks like
interface Feature {
  title: string;
  text: string;
  highlight?: boolean;
  image?: string;
}

// Define component props
interface Props {
  features: Feature[];
  headline?: string;
}

// Type the props so TypeScript knows what to expect
const { features = [], headline = "Key features" } = Astro.props as Props;
---

<div class="fade-up py-16 w-full mx-auto">
  <h2 class="h2 text-center text-2xl md:text-3xl font-medium text-red-600 mb-3 md:mb-20">
    {headline}
  </h2>

  <div class="space-y-16">
    {features.map((feature: Feature, index: number) => {
      const isEven = index % 2 === 1;

      return (
        <div
          class={`flex flex-col md:flex-row items-center md:justify-between gap-8 ${
            isEven ? "md:flex-row-reverse" : ""
          }`}
          data-index={index}  
        >
          {feature.image && (
            <img
              src={feature.image}
              alt={feature.title}
              class="w-full md:w-1/2 object-cover hover:scale-102 transition-transform duration-300"
            />
          )}

          <div class="w-full md:w-1/2">
            <h3 class={`text-xl font-semibold ${feature.highlight ? "text-red-500" : "text-gray-800"}`}>
              {feature.title}
            </h3>
            <p class="text-gray-600 mt-2">{feature.text}</p>
          </div>
        </div>
      );
    })}
  </div>
</div>